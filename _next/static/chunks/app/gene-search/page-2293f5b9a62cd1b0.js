(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{8426:function(e,t,n){Promise.resolve().then(n.bind(n,4889))},4889:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(7437),r=n(2265),s=n(7268);function i(){let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[o,d]=(0,r.useState)(""),[u,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{Promise.all([(0,s.Z4)(),(0,s.vj)()]).then(e=>{let[n,a]=e;t(n),i(a)}).finally(()=>x(!1))},[]);let m=(0,r.useMemo)(()=>{if(!o.trim())return[];let t=o.trim().toLowerCase().split(/[\s,;]+/).filter(Boolean);return e.filter(e=>t.some(t=>e.gene_id.toLowerCase().includes(t)||e.gene_name&&e.gene_name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t))).slice(0,200)},[o,e]);return u?(0,a.jsx)(l,{}):(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:"Gene Search"}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,a.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Search by gene ID, name, or description (e.g. MSTRG.1, collagen, transport)...",className:"w-full text-sm text-gray-900 bg-transparent border-none outline-none placeholder:text-gray-400"}),o&&(0,a.jsx)("button",{onClick:()=>d(""),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"text-[10px] text-gray-400 mt-1",children:[e.length.toLocaleString()," genes indexed | Separate multiple terms with commas or spaces"]})]}),!o.trim()&&(0,a.jsxs)("div",{className:"text-center py-8 text-gray-400 text-sm",children:["Enter a gene name or ID to search across all ",n.length," comparisons."]}),o.trim()&&0===m.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No genes found."}),m.length>0&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:m.length>=200?"200+ matches (showing top 200)":"".concat(m.length," match").concat(m.length>1?"es":"")}),(0,a.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,a.jsx)(c,{gene:e,comparisons:n},e.gene_id))})]})}function c(e){let{gene:t,comparisons:n}=e,[s,i]=(0,r.useState)(!1),c=n.filter(e=>t.comparisons[e.id]).map(e=>({id:e.id,name:e.name,data:t.comparisons[e.id]})),l=c.filter(e=>"up"===e.data.regulation||"down"===e.data.regulation).length;return(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>i(!s),className:"w-full px-3 py-2 flex items-center justify-between text-left hover:bg-gray-50",children:[(0,a.jsx)("div",{className:"flex items-center gap-3 min-w-0",children:(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:t.gene_name||t.gene_id}),t.gene_name&&t.gene_name!==t.gene_id&&(0,a.jsx)("span",{className:"text-[10px] text-gray-400 font-mono",children:t.gene_id})]}),t.description&&(0,a.jsx)("div",{className:"text-[10px] text-gray-500 truncate max-w-xl",children:t.description})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l>0&&(0,a.jsxs)("span",{className:"text-[10px] font-medium text-purple-600 bg-purple-50 px-1.5 py-0.5 rounded",children:[l," DE"]}),(0,a.jsx)("div",{className:"flex gap-0.5",children:c.map(e=>{var t;return(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full ".concat("up"===(t=e.data.regulation)?"bg-red-400":"down"===t?"bg-blue-400":"bg-gray-300"),title:"".concat(e.name,": ").concat(e.data.regulation)},e.id)})}),(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform ".concat(s?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),s&&(0,a.jsx)("div",{className:"border-t border-gray-100 px-3 py-2",children:(0,a.jsxs)("table",{className:"w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-[10px] text-gray-500 bg-gray-50",children:[(0,a.jsx)("th",{className:"text-left px-2 py-1 font-medium",children:"Comparison"}),(0,a.jsx)("th",{className:"text-right px-2 py-1 font-medium",children:"log2FC"}),(0,a.jsx)("th",{className:"text-right px-2 py-1 font-medium",children:"P-value"}),(0,a.jsx)("th",{className:"text-right px-2 py-1 font-medium",children:"Q-value"}),(0,a.jsx)("th",{className:"text-center px-2 py-1 font-medium",children:"Regulation"})]})}),(0,a.jsx)("tbody",{className:"font-mono tabular-nums",children:c.map(e=>{var t;return(0,a.jsxs)("tr",{className:"border-t border-gray-50 hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-2 py-1 text-gray-700 font-sans",children:e.name.replace(/_/g," ")}),(0,a.jsx)("td",{className:"px-2 py-1 text-right ".concat(e.data.log2FC>0?"text-red-600":e.data.log2FC<0?"text-blue-600":"text-gray-500"),children:e.data.log2FC.toFixed(2)}),(0,a.jsx)("td",{className:"px-2 py-1 text-right text-gray-600",children:o(e.data.pvalue)}),(0,a.jsx)("td",{className:"px-2 py-1 text-right text-gray-600",children:o(e.data.qvalue)}),(0,a.jsx)("td",{className:"px-2 py-1 text-center",children:(0,a.jsx)("span",{className:"inline-block px-1.5 py-0.5 rounded text-[10px] font-medium ".concat("up"===(t=e.data.regulation)?"bg-red-50 text-red-700":"down"===t?"bg-blue-50 text-blue-700":"bg-gray-100 text-gray-500"),children:e.data.regulation})})]},e.id)})})]})})]})}function o(e){return null==e?"-":e<.001?e.toExponential(1):e.toFixed(4)}function l(){return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[40vh]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})}function d(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(l,{}),children:(0,a.jsx)(i,{})})}},7268:function(e,t,n){"use strict";n.d(t,{Eh:function(){return m},I5:function(){return l},Ji:function(){return h},Mw:function(){return u},Z4:function(){return j},_r:function(){return d},ex:function(){return g},rY:function(){return p},sd:function(){return c},vj:function(){return o},wK:function(){return f},zW:function(){return x}});let a=()=>"/mrnaseq-static-site",r=new Map;async function s(e){if(r.has(e))return r.get(e);let t=a(),n="".concat(t).concat(e),s=await fetch(n);if(!s.ok)throw Error("Failed to fetch ".concat(n,": ").concat(s.statusText));let i=await s.json();return r.set(e,i),i}async function i(e){return s(e)}async function c(){return i("/data/metadata.json")}async function o(){return i("/data/differential/comparison_list.json")}async function l(e){return i("/data/differential/results/".concat(e,".json"))}async function d(e){return i("/data/differential/volcano/".concat(e,".json"))}async function u(e){return i("/data/differential/significant/".concat(e,".json"))}async function x(e,t){return i("/data/enrichment/go/".concat(e).concat(t?"_".concat(t):"",".json"))}async function m(){return i("/data/intersection/index.json")}async function h(){return i("/data/intersection/gene_sets_summary.json")}function g(e){return[...e].sort().join("__")}async function p(e,t){let n=g(e);return i("/data/intersection/pairs/".concat(n,"_").concat(t,".json"))}async function f(e,t){let n=g(e);return i("/data/intersection/enrichment/".concat(n,"_").concat(t,"_enrichment.json"))}async function j(){return i("/data/gene-search/all_genes.json")}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8426)}),_N_E=e.O()}]);