(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5280:function(e,t,n){Promise.resolve().then(n.bind(n,6117))},6117:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n(7437),r=n(2265),a=n(7648),l=n(7268);function c(){let[e,t]=(0,r.useState)([]),[n,c]=(0,r.useState)(null),[u,x]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{Promise.all([(0,l.vj)(),(0,l.sd)()]).then(e=>{let[n,s]=e;t(n),c(s)}).finally(()=>x(!1))},[]),u)return(0,s.jsx)(d,{});let m=e.reduce((e,t)=>e+t.upregulated,0),h=e.reduce((e,t)=>e+t.downregulated,0);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 px-5 py-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:(null==n?void 0:n.title)||"mRNA-seq Analysis"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-0.5",children:null==n?void 0:n.description}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 rounded bg-purple-50 text-purple-700 font-medium",children:null==n?void 0:n.organism}),(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded bg-blue-50 text-blue-700 font-medium",children:[e.length," Comparisons"]}),(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded bg-green-50 text-green-700 font-medium",children:[Object.keys((null==n?void 0:n.sample_groups)||{}).length," Groups"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,s.jsx)(i,{label:"Comparisons",value:e.length,cls:"text-purple-700 bg-purple-50 border-purple-100"}),(0,s.jsx)(i,{label:"Total DEGs",value:m+h,cls:"text-gray-700 bg-white border-gray-200"}),(0,s.jsx)(i,{label:"Upregulated",value:m,cls:"text-red-700 bg-red-50 border-red-100"}),(0,s.jsx)(i,{label:"Downregulated",value:h,cls:"text-blue-700 bg-blue-50 border-blue-100"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Sample Groups"}),(0,s.jsx)("div",{className:"space-y-2",children:Object.entries((null==n?void 0:n.sample_groups)||{}).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-semibold text-purple-700 text-sm w-10",children:t}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:n.join(", ")})]},t)})})]}),(0,s.jsxs)("div",{className:"col-span-2 bg-white rounded-lg border border-gray-200 p-4",children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Pairwise Comparisons"}),(0,s.jsxs)("table",{className:"w-full text-xs",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-100 text-gray-500",children:[(0,s.jsx)("th",{className:"text-left pb-1.5 font-medium",children:"Comparison"}),(0,s.jsx)("th",{className:"text-left pb-1.5 font-medium",children:"Source"}),(0,s.jsx)("th",{className:"text-right pb-1.5 font-medium",children:"Up"}),(0,s.jsx)("th",{className:"text-right pb-1.5 font-medium",children:"Down"}),(0,s.jsx)("th",{className:"text-right pb-1.5 font-medium",children:"Total"}),(0,s.jsx)("th",{className:"pb-1.5 w-32"})]})}),(0,s.jsx)("tbody",{children:e.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"py-1.5 font-medium text-gray-900",children:(0,s.jsx)(a.default,{href:"/differential?comparison=".concat(e.id),className:"hover:text-purple-600",children:e.name.replace(/_/g," ")})}),(0,s.jsx)("td",{className:"py-1.5",children:(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-medium ".concat("edgeR"===e.source?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"),children:e.source})}),(0,s.jsx)("td",{className:"py-1.5 text-right text-red-600 font-mono",children:e.upregulated.toLocaleString()}),(0,s.jsx)("td",{className:"py-1.5 text-right text-blue-600 font-mono",children:e.downregulated.toLocaleString()}),(0,s.jsx)("td",{className:"py-1.5 text-right text-gray-600 font-mono",children:e.total.toLocaleString()}),(0,s.jsx)("td",{className:"py-1.5",children:(0,s.jsxs)("div",{className:"w-full h-1.5 bg-gray-100 rounded-full overflow-hidden flex",children:[(0,s.jsx)("div",{className:"bg-red-400 h-full",style:{width:"".concat(e.upregulated/e.total*100,"%")}}),(0,s.jsx)("div",{className:"bg-blue-400 h-full",style:{width:"".concat(e.downregulated/e.total*100,"%")}})]})})]},e.id))})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,s.jsx)(o,{href:"/differential",title:"Differential Expression",desc:"Volcano plots & DEG lists"}),(0,s.jsx)(o,{href:"/enrichment",title:"Enrichment Analysis",desc:"GO Biological Process"}),(0,s.jsx)(o,{href:"/intersection",title:"Intersection Analysis",desc:"Compare DEGs across conditions"}),(0,s.jsx)(o,{href:"/gene-search",title:"Gene Search",desc:"Search genes across comparisons"})]})]})}function i(e){let{label:t,value:n,cls:r}=e;return(0,s.jsxs)("div",{className:"rounded-lg border p-3 ".concat(r),children:[(0,s.jsx)("div",{className:"text-xl font-bold",children:n.toLocaleString()}),(0,s.jsx)("div",{className:"text-xs opacity-70",children:t})]})}function o(e){let{href:t,title:n,desc:r}=e;return(0,s.jsxs)(a.default,{href:t,className:"bg-white rounded-lg border border-gray-200 p-3 hover:border-purple-300 hover:shadow-sm transition-all block",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:n}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:r})]})}function d(){return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"})})}},7268:function(e,t,n){"use strict";n.d(t,{Eh:function(){return m},I5:function(){return o},Ji:function(){return h},Mw:function(){return u},Z4:function(){return j},_r:function(){return d},ex:function(){return f},rY:function(){return p},sd:function(){return c},vj:function(){return i},wK:function(){return g},zW:function(){return x}});let s=()=>"/mrnapp-intersection",r=new Map;async function a(e){if(r.has(e))return r.get(e);let t=s(),n="".concat(t).concat(e),a=await fetch(n);if(!a.ok)throw Error("Failed to fetch ".concat(n,": ").concat(a.statusText));let l=await a.json();return r.set(e,l),l}async function l(e){return a(e)}async function c(){return l("/data/metadata.json")}async function i(){return l("/data/differential/comparison_list.json")}async function o(e){return l("/data/differential/results/".concat(e,".json"))}async function d(e){return l("/data/differential/volcano/".concat(e,".json"))}async function u(e){return l("/data/differential/significant/".concat(e,".json"))}async function x(e,t){return l("/data/enrichment/go/".concat(e).concat(t?"_".concat(t):"",".json"))}async function m(){return l("/data/intersection/index.json")}async function h(){return l("/data/intersection/gene_sets_summary.json")}function f(e){return[...e].sort().join("__")}async function p(e,t){let n=f(e);return l("/data/intersection/pairs/".concat(n,"_").concat(t,".json"))}async function g(e,t){let n=f(e);return l("/data/intersection/enrichment/".concat(n,"_").concat(t,"_enrichment.json"))}async function j(){return l("/data/gene-search/all_genes.json")}}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=5280)}),_N_E=e.O()}]);